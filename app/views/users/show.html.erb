<div class="user-container">
  <h1 class="visit-title"><%= @user.username %>'s Profile</h1>
  <% if @user == current_user %>
    <div class="card-product general-card">
      <% unless @user.photo.key.nil? %>
        <%= cl_image_tag @user.photo.key, class: "avatar" %>
      <% else %>
        <p><%= link_to "Add photo", edit_user_path(current_user) %></p>
      <% end %>
      <div class="card-product-infos">
        <h5><%= @user.email %></h5>
        <p><%= link_to "Edit profile", edit_user_path(current_user) %></p>
        <p><%= link_to "Sign Out", destroy_user_session_path, data: { "turbo-method": :delete } %></p>
      </div>
    </div>
  <% else %>
    <div class="card-product">
      <% unless @user.photo.key.nil? %>
        <%= cl_image_tag @user.photo.key, class: "avatar" %>
      <% else %>
        <p><%= image_tag "https://i.imgur.com/djGIukc.png", class: "avatar" %></p>
      <% end %>
      <div class="card-product-infos">
        <% if current_user.following?(@user) %>
          <%= button_to "<i class='fa-solid fa-user-slash'></i>".html_safe, unfollow_path(@user) %>
        <% else %>
          <%= button_to "<i class='fa-solid fa-user-plus'></i>".html_safe, follow_path(@user) %>
        <% end %>
        <p><%= link_to "My Profile", user_path(current_user) %></p>
      </div>
    </div>
  <% end %>
</div>
